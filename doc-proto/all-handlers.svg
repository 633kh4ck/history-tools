<svg width="1400" height="1000" xmlns="http://www.w3.org/2000/svg">
 <g>
  <title>Layer 1</title>
  <path stroke-width="5" stroke-linejoin="null" stroke-linecap="null" stroke="#000000" id="svg_27" fill="none" d="M 762 219.1 c 0 7.7 -28 13.9 -62.6 13.9 m 62.6 -13.9 l 0 0 c 0 7.7 -28 13.9 -62.6 13.9 c -34.6 0 -62.6 -6.2 -62.6 -13.9 m 0 0 l 0 0 c 0 -7.7 28 -13.9 62.6 -13.9 c 34.6 0 62.6 6.2 62.6 13.9 l 0 55.7 c 0 7.7 -28 13.9 -62.6 13.9 c -34.6 0 -62.6 -6.2 -62.6 -13.9 l 0 -55.7 z"/>
  <rect y="57" x="615" width="170" stroke-width="5" stroke-linejoin="null" stroke-linecap="null" stroke="#000000" id="svg_22" height="80" fill="none"/>
  <path stroke-width="5" stroke-linejoin="null" stroke-linecap="null" stroke="#000000" id="svg_19" fill="none" d="M 359.9 140.5 l 38.9 -82 l 155.8 0 l -38.9 82 l -155.8 0 z"/>
  <path stroke-width="5" stroke-linejoin="null" stroke-linecap="null" stroke="#000000" id="svg_21" fill="none" d="M 842 136.5 l 52 -82 l 208 0 l -52 82 l -208 0 z"/>
  <text style="cursor: move" y="259" xml:space="preserve" x="698" text-anchor="middle" stroke-width="0" stroke-linejoin="null" stroke-linecap="null" stroke="#000000" id="svg_15" font-size="24" font-family="serif" fill="#000000">Chain</text>
  <text y="103" xml:space="preserve" x="456" text-anchor="middle" stroke-width="0" stroke-linejoin="null" stroke-linecap="null" stroke-dasharray="null" stroke="#000000" id="svg_16" font-size="24" font-family="serif" fill="#000000">Actions</text>
  <text y="107" xml:space="preserve" x="965" text-anchor="middle" stroke-width="0" stroke-linejoin="null" stroke-linecap="null" stroke-dasharray="null" stroke="#000000" id="svg_17" font-size="24" font-family="serif" fill="#000000">Additional Actions</text>
  <text y="107" xml:space="preserve" x="695" text-anchor="middle" stroke-width="0" stroke-linejoin="null" stroke-linecap="null" stroke-dasharray="null" stroke="#000000" id="svg_18" font-size="24" font-family="serif" fill="#000000">Contract</text>
  <rect y="535" x="616" width="170" stroke-width="5" stroke-linejoin="null" stroke-linecap="null" stroke="#000000" id="svg_22" height="80" fill="none"/>
  <text y="580" xml:space="preserve" x="701" text-anchor="middle" stroke-width="0" stroke-linejoin="null" stroke-linecap="null" stroke="#000000" id="svg_18" font-size="24" font-family="serif" fill="#000000">Filter Handler</text>
  <text y="280" xml:space="preserve" x="700" text-anchor="middle" stroke-width="0" stroke-linejoin="null" stroke-linecap="null" stroke="#000000" id="svg_2" font-size="24" font-family="serif" fill="#000000">Database</text>
  <path stroke-width="5" stroke-linejoin="null" stroke-linecap="null" stroke="#000000" id="svg_3" fill="none" d="M 559 457.5 l 52 -82 l 208 0 l -52 82 l -208 0 z"/>
  <text y="428" xml:space="preserve" x="682" text-anchor="middle" stroke-width="0" stroke-linejoin="null" stroke-linecap="null" stroke="#000000" id="svg_4" font-size="24" font-family="serif" fill="#000000">Database Changes</text>
  <rect y="60" x="123" width="170" stroke-width="5" stroke-linejoin="null" stroke-linecap="null" stroke="#000000" id="svg_5" height="80" fill="none"/>
  <text y="110" xml:space="preserve" x="203" text-anchor="middle" stroke-width="0" stroke-linejoin="null" stroke-linecap="null" stroke="#000000" id="svg_6" font-size="24" font-family="serif" fill="#000000">User</text>
  <path id="svg_8" d="M 330.8 111.7 l 10.9 -7.4 l -21.2 0 l -21.2 0 l 0 -4.6 l 0 -4.6 l 20.9 0 c 11.5 0 20.9 -0.2 20.9 -0.5 c 0 -0.3 -4.6 -3.6 -10.2 -7.4 l -10.2 -6.9 l 9.4 0 l 9.4 0 l 14.4 9.8 l 14.4 9.8 l -14.4 9.7 l -14.4 9.7 l -9.9 0 l -9.9 0 l 10.9 -7.4 l 0 0 z" fill-opacity="null" stroke-opacity="null" stroke-width="5" stroke="#000000" fill="none"/>
  <path id="svg_9" d="M 572.8 110.7 l 10.9 -7.4 l -21.2 0 l -21.2 0 l 0 -4.6 l 0 -4.6 l 20.9 0 c 11.5 0 20.9 -0.2 20.9 -0.5 c 0 -0.3 -4.6 -3.6 -10.2 -7.4 l -10.2 -6.9 l 9.4 0 l 9.4 0 l 14.4 9.8 l 14.4 9.8 l -14.4 9.7 l -14.4 9.7 l -9.9 0 l -9.9 0 l 10.9 -7.4 l 0 0 z" fill-opacity="null" stroke-opacity="null" stroke-width="5" stroke="#000000" fill="none"/>
  <path id="svg_10" d="M 822.8 109.7 l 10.9 -7.4 l -21.2 0 l -21.2 0 l 0 -4.6 l 0 -4.6 l 20.9 0 c 11.5 0 20.9 -0.2 20.9 -0.5 c 0 -0.3 -4.6 -3.6 -10.2 -7.4 l -10.2 -6.9 l 9.4 0 l 9.4 0 l 14.4 9.8 l 14.4 9.8 l -14.4 9.7 l -14.4 9.7 l -9.9 0 l -9.9 0 l 10.9 -7.4 l 0 0 z" fill-opacity="null" stroke-opacity="null" stroke-width="5" stroke="#000000" fill="none"/>
  <path transform="rotate(-89,701.1,171.2)" stroke="#000000" id="svg_12" d="M 672.1 171.2 l 16.8 -22.5 l 0 11.3 l 24.4 0 l 0 -11.3 l 16.8 22.5 l -16.8 22.5 l 0 -11.2 l -24.4 0 l 0 11.2 l -16.8 -22.5 z" fill-opacity="null" stroke-opacity="null" stroke-width="5" fill="none"/>
  <path transform="rotate(90,699.9,331.7)" id="svg_13" d="M 696.8 343.7 l 10.9 -7.4 l -21.2 0 l -21.2 0 l 0 -4.6 l 0 -4.6 l 20.9 0 c 11.5 0 20.9 -0.2 20.9 -0.5 c 0 -0.3 -4.6 -3.6 -10.2 -7.4 l -10.2 -6.9 l 9.4 0 l 9.4 0 l 14.4 9.8 l 14.4 9.8 l -14.4 9.7 l -14.4 9.7 l -9.9 0 l -9.9 0 l 10.9 -7.4 l 0 0 z" fill-opacity="null" stroke-opacity="null" stroke-width="5" stroke="#000000" fill="none"/>
  <path transform="rotate(90,445.9,219.7)" stroke="#000000" id="svg_23" d="M 439.5 231.7 l 22.4 -7.4 l -43.2 0 l -43.2 0 l 0 -4.6 l 0 -4.6 l 42.7 0 c 23.5 0 42.7 -0.2 42.7 -0.5 c 0 -0.3 -9.4 -3.6 -20.8 -7.4 l -20.8 -6.9 l 19.2 0 l 19.2 0 l 29.3 9.8 l 29.3 9.8 l -29.4 9.7 l -29.4 9.7 l -20.2 0 l -20.2 0 l 22.4 -7.4 l 0 0 z" fill-opacity="null" stroke-opacity="null" stroke-width="5" fill="none"/>
  <path transform="rotate(90,444.9,365.7)" stroke="#000000" id="svg_24" d="M 438.5 377.7 l 22.4 -7.4 l -43.2 0 l -43.2 0 l 0 -4.6 l 0 -4.6 l 42.7 0 c 23.5 0 42.7 -0.2 42.7 -0.5 c 0 -0.3 -9.4 -3.6 -20.8 -7.4 l -20.8 -6.9 l 19.2 0 l 19.2 0 l 29.3 9.8 l 29.3 9.8 l -29.4 9.7 l -29.4 9.7 l -20.2 0 l -20.2 0 l 22.4 -7.4 l 0 0 z" fill-opacity="null" stroke-opacity="null" stroke-width="5" fill="none"/>
  <path transform="rotate(35.1,485.9,472.7)" stroke="#000000" id="svg_25" d="M 481.8 484.7 l 14.4 -7.4 l -27.9 0 l -27.9 0 l 0 -4.6 l 0 -4.6 l 27.6 0 c 15.2 0 27.6 -0.2 27.6 -0.5 c 0 -0.3 -6 -3.6 -13.4 -7.4 l -13.4 -6.9 l 12.4 0 l 12.4 0 l 18.9 9.8 l 18.9 9.8 l -19 9.7 l -19 9.7 l -13.1 0 l -13.1 0 l 14.4 -7.4 l 0 0 z" fill-opacity="null" stroke-opacity="null" stroke-width="5" fill="none"/>
  <path transform="rotate(90,952.9,211.7)" stroke="#000000" id="svg_26" d="M 946.5 223.7 l 22.4 -7.4 l -43.2 0 l -43.2 0 l 0 -4.6 l 0 -4.6 l 42.7 0 c 23.5 0 42.7 -0.2 42.7 -0.5 c 0 -0.3 -9.4 -3.6 -20.8 -7.4 l -20.8 -6.9 l 19.2 0 l 19.2 0 l 29.3 9.8 l 29.3 9.8 l -29.4 9.7 l -29.4 9.7 l -20.2 0 l -20.2 0 l 22.4 -7.4 l 0 0 z" fill-opacity="null" stroke-opacity="null" stroke-width="5" fill="none"/>
  <path transform="rotate(90,951.9,357.7)" stroke="#000000" id="svg_28" d="M 945.5 369.7 l 22.4 -7.4 l -43.2 0 l -43.2 0 l 0 -4.6 l 0 -4.6 l 42.7 0 c 23.5 0 42.7 -0.2 42.7 -0.5 c 0 -0.3 -9.4 -3.6 -20.8 -7.4 l -20.8 -6.9 l 19.2 0 l 19.2 0 l 29.3 9.8 l 29.3 9.8 l -29.4 9.7 l -29.4 9.7 l -20.2 0 l -20.2 0 l 22.4 -7.4 l 0 0 z" fill-opacity="null" stroke-opacity="null" stroke-width="5" fill="none"/>
  <path transform="rotate(90,695.9,496.7)" id="svg_30" d="M 692.8 508.7 l 10.9 -7.4 l -21.2 0 l -21.2 0 l 0 -4.6 l 0 -4.6 l 20.9 0 c 11.5 0 20.9 -0.2 20.9 -0.5 c 0 -0.3 -4.6 -3.6 -10.2 -7.4 l -10.2 -6.9 l 9.4 0 l 9.4 0 l 14.4 9.8 l 14.4 9.8 l -14.4 9.7 l -14.4 9.7 l -9.9 0 l -9.9 0 l 10.9 -7.4 l 0 0 z" fill-opacity="null" stroke-opacity="null" stroke-width="5" stroke="#000000" fill="none"/>
  <path transform="rotate(35.1,567.9,526.7)" stroke="#000000" id="svg_31" d="M 563.8 538.7 l 14.4 -7.4 l -27.9 0 l -27.9 0 l 0 -4.6 l 0 -4.6 l 27.6 0 c 15.2 0 27.6 -0.2 27.6 -0.5 c 0 -0.3 -6 -3.6 -13.4 -7.4 l -13.4 -6.9 l 12.4 0 l 12.4 0 l 18.9 9.8 l 18.9 9.8 l -19 9.7 l -19 9.7 l -13.1 0 l -13.1 0 l 14.4 -7.4 l 0 0 z" fill-opacity="null" stroke-opacity="null" stroke-width="5" fill="none"/>
  <path transform="rotate(142.5,912.9,466.7)" stroke="#000000" id="svg_32" d="M 908.8 478.7 l 14.4 -7.4 l -27.9 0 l -27.9 0 l 0 -4.6 l 0 -4.6 l 27.6 0 c 15.2 0 27.6 -0.2 27.6 -0.5 c 0 -0.3 -6 -3.6 -13.4 -7.4 l -13.4 -6.9 l 12.4 0 l 12.4 0 l 18.9 9.8 l 18.9 9.8 l -19 9.7 l -19 9.7 l -13.1 0 l -13.1 0 l 14.4 -7.4 l 0 0 z" fill-opacity="null" stroke-opacity="null" stroke-width="5" fill="none"/>
  <path transform="rotate(142.5,912.9,466.7)" stroke="#000000" id="svg_35" d="M 908.8 478.7 l 14.4 -7.4 l -27.9 0 l -27.9 0 l 0 -4.6 l 0 -4.6 l 27.6 0 c 15.2 0 27.6 -0.2 27.6 -0.5 c 0 -0.3 -6 -3.6 -13.4 -7.4 l -13.4 -6.9 l 12.4 0 l 12.4 0 l 18.9 9.8 l 18.9 9.8 l -19 9.7 l -19 9.7 l -13.1 0 l -13.1 0 l 14.4 -7.4 l 0 0 z" fill-opacity="null" stroke-opacity="null" stroke-width="5" fill="none"/>
  <path transform="rotate(142.5,832.9,525.7)" stroke="#000000" id="svg_36" d="M 828.8 537.7 l 14.4 -7.4 l -27.9 0 l -27.9 0 l 0 -4.6 l 0 -4.6 l 27.6 0 c 15.2 0 27.6 -0.2 27.6 -0.5 c 0 -0.3 -6 -3.6 -13.4 -7.4 l -13.4 -6.9 l 12.4 0 l 12.4 0 l 18.9 9.8 l 18.9 9.8 l -19 9.7 l -19 9.7 l -13.1 0 l -13.1 0 l 14.4 -7.4 l 0 0 z" fill-opacity="null" stroke-opacity="null" stroke-width="5" fill="none"/>
  <path transform="rotate(142.5,832.9,525.7)" stroke="#000000" id="svg_37" d="M 828.8 537.7 l 14.4 -7.4 l -27.9 0 l -27.9 0 l 0 -4.6 l 0 -4.6 l 27.6 0 c 15.2 0 27.6 -0.2 27.6 -0.5 c 0 -0.3 -6 -3.6 -13.4 -7.4 l -13.4 -6.9 l 12.4 0 l 12.4 0 l 18.9 9.8 l 18.9 9.8 l -19 9.7 l -19 9.7 l -13.1 0 l -13.1 0 l 14.4 -7.4 l 0 0 z" fill-opacity="null" stroke-opacity="null" stroke-width="5" fill="none"/>
  <path stroke-width="5" stroke-linejoin="null" stroke-linecap="null" stroke="#000000" id="svg_38" fill="none" d="M 760 696.1 c 0 7.7 -28 13.9 -62.6 13.9 m 62.6 -13.9 l 0 0 c 0 7.7 -28 13.9 -62.6 13.9 c -34.6 0 -62.6 -6.2 -62.6 -13.9 m 0 0 l 0 0 c 0 -7.7 28 -13.9 62.6 -13.9 c 34.6 0 62.6 6.2 62.6 13.9 l 0 55.7 c 0 7.7 -28 13.9 -62.6 13.9 c -34.6 0 -62.6 -6.2 -62.6 -13.9 l 0 -55.7 z"/>
  <text style="cursor: move" y="736" xml:space="preserve" x="696" text-anchor="middle" stroke-width="0" stroke-linejoin="null" stroke-linecap="null" stroke="#000000" id="svg_39" font-size="24" font-family="serif" fill="#000000">Off-chain</text>
  <text y="757" xml:space="preserve" x="698" text-anchor="middle" stroke-width="0" stroke-linejoin="null" stroke-linecap="null" stroke="#000000" id="svg_40" font-size="24" font-family="serif" fill="#000000">Database</text>
  <path transform="rotate(-89,695.1,649.2)" stroke="#000000" id="svg_41" d="M 666.1 649.2 l 16.8 -22.5 l 0 11.3 l 24.4 0 l 0 -11.3 l 16.8 22.5 l -16.8 22.5 l 0 -11.2 l -24.4 0 l 0 11.2 l -16.8 -22.5 z" fill-opacity="null" stroke-opacity="null" stroke-width="5" fill="none"/>
  <path transform="rotate(90,693.9,805.7)" id="svg_42" d="M 690.8 817.7 l 10.9 -7.4 l -21.2 0 l -21.2 0 l 0 -4.6 l 0 -4.6 l 20.9 0 c 11.5 0 20.9 -0.2 20.9 -0.5 c 0 -0.3 -4.6 -3.6 -10.2 -7.4 l -10.2 -6.9 l 9.4 0 l 9.4 0 l 14.4 9.8 l 14.4 9.8 l -14.4 9.7 l -14.4 9.7 l -9.9 0 l -9.9 0 l 10.9 -7.4 l 0 0 z" fill-opacity="null" stroke-opacity="null" stroke-width="5" stroke="#000000" fill="none"/>
  <rect y="848" x="610" width="170" stroke-width="5" stroke-linejoin="null" stroke-linecap="null" stroke="#000000" id="svg_43" height="80" fill="none"/>
  <text style="cursor: move" y="893" xml:space="preserve" x="695" text-anchor="middle" stroke-width="0" stroke-linejoin="null" stroke-linecap="null" stroke="#000000" id="svg_44" font-size="24" font-family="serif" fill="#000000">Query Handler</text>
  <path stroke-width="5" stroke-linejoin="null" stroke-linecap="null" stroke="#000000" id="svg_45" fill="none" d="M 350.9 928.5 l 38.9 -82 l 155.8 0 l -38.9 82 l -155.8 0 z"/>
  <text style="cursor: move" y="882" xml:space="preserve" x="445" text-anchor="middle" stroke-width="0" stroke-linejoin="null" stroke-linecap="null" stroke="#000000" id="svg_46" font-size="24" font-family="serif" fill="#000000">Query</text>
  <rect y="848" x="114" width="170" stroke-width="5" stroke-linejoin="null" stroke-linecap="null" stroke="#000000" id="svg_47" height="80" fill="none"/>
  <text y="898" xml:space="preserve" x="194" text-anchor="middle" stroke-width="0" stroke-linejoin="null" stroke-linecap="null" stroke="#000000" id="svg_48" font-size="24" font-family="serif" fill="#000000">User</text>
  <path id="svg_49" d="M 321.8 899.7 l 10.9 -7.4 l -21.2 0 l -21.2 0 l 0 -4.6 l 0 -4.6 l 20.9 0 c 11.5 0 20.9 -0.2 20.9 -0.5 c 0 -0.3 -4.6 -3.6 -10.2 -7.4 l -10.2 -6.9 l 9.4 0 l 9.4 0 l 14.4 9.8 l 14.4 9.8 l -14.4 9.7 l -14.4 9.7 l -9.9 0 l -9.9 0 l 10.9 -7.4 l 0 0 z" fill-opacity="null" stroke-opacity="null" stroke-width="5" stroke="#000000" fill="none"/>
  <path id="svg_50" d="M 563.8 898.7 l 10.9 -7.4 l -21.2 0 l -21.2 0 l 0 -4.6 l 0 -4.6 l 20.9 0 c 11.5 0 20.9 -0.2 20.9 -0.5 c 0 -0.3 -4.6 -3.6 -10.2 -7.4 l -10.2 -6.9 l 9.4 0 l 9.4 0 l 14.4 9.8 l 14.4 9.8 l -14.4 9.7 l -14.4 9.7 l -9.9 0 l -9.9 0 l 10.9 -7.4 l 0 0 z" fill-opacity="null" stroke-opacity="null" stroke-width="5" stroke="#000000" fill="none"/>
  <text y="910" xml:space="preserve" x="444" text-anchor="middle" stroke-width="0" stroke-linejoin="null" stroke-linecap="null" stroke="#000000" id="svg_51" font-size="24" font-family="serif" fill="#000000">Requests</text>
  <path stroke-width="5" stroke-linejoin="null" stroke-linecap="null" stroke="#000000" id="svg_52" fill="none" d="M 848.9 929.5 l 38.9 -82 l 155.8 0 l -38.9 82 l -155.8 0 z"/>
  <text style="cursor: move" y="883" xml:space="preserve" x="943" text-anchor="middle" stroke-width="0" stroke-linejoin="null" stroke-linecap="null" stroke="#000000" id="svg_53" font-size="24" font-family="serif" fill="#000000">Query</text>
  <rect y="847" x="1109" width="170" stroke-width="5" stroke-linejoin="null" stroke-linecap="null" stroke="#000000" id="svg_54" height="80" fill="none"/>
  <text y="897" xml:space="preserve" x="1189" text-anchor="middle" stroke-width="0" stroke-linejoin="null" stroke-linecap="null" stroke="#000000" id="svg_55" font-size="24" font-family="serif" fill="#000000">User</text>
  <path id="svg_56" d="M 817.8 897.7 l 10.9 -7.4 l -21.2 0 l -21.2 0 l 0 -4.6 l 0 -4.6 l 20.9 0 c 11.5 0 20.9 -0.2 20.9 -0.5 c 0 -0.3 -4.6 -3.6 -10.2 -7.4 l -10.2 -6.9 l 9.4 0 l 9.4 0 l 14.4 9.8 l 14.4 9.8 l -14.4 9.7 l -14.4 9.7 l -9.9 0 l -9.9 0 l 10.9 -7.4 l 0 0 z" fill-opacity="null" stroke-opacity="null" stroke-width="5" stroke="#000000" fill="none"/>
  <path id="svg_57" d="M 1061.8 899.7 l 10.9 -7.4 l -21.2 0 l -21.2 0 l 0 -4.6 l 0 -4.6 l 20.9 0 c 11.5 0 20.9 -0.2 20.9 -0.5 c 0 -0.3 -4.6 -3.6 -10.2 -7.4 l -10.2 -6.9 l 9.4 0 l 9.4 0 l 14.4 9.8 l 14.4 9.8 l -14.4 9.7 l -14.4 9.7 l -9.9 0 l -9.9 0 l 10.9 -7.4 l 0 0 z" fill-opacity="null" stroke-opacity="null" stroke-width="5" stroke="#000000" fill="none"/>
  <text y="911" xml:space="preserve" x="942" text-anchor="middle" stroke-width="0" stroke-linejoin="null" stroke-linecap="null" stroke="#000000" id="svg_58" font-size="24" font-family="serif" fill="#000000">Results</text>
 </g>
</svg>